clear;
clc;
close all;

% Sim steps
N = 300;

Nx = 7;
Nu = 3;

% Initial State
theta = pi/2;  % [rad]
q0 = [cos(theta/2); 0; 0; sin(theta/2)];  % 90 degree rotation about z-axis
w0 = [0; 0; 0];  % [rad/s]
x0 = [q0; w0];

% Goal state
theta_g = 3*pi/2;
qg = [cos(theta_g/2); 0; 0; sin(theta_g/2)];
wg = [0; 0; 0];
xg = [qg; wg];

utraj0 = zeros(Nu, N-1);

% Cost matrices
% Cumulative
Q = zeros(Nx, Nx);
Qw = 0.05*eye(3);
Q(5:7, 5:7) = Qw;
R = 0.3*eye(3);

% Final Cost
Qf= zeros(Nx, Nx);
Qwf = 10*eye(3);
Qf(5:7
Qqf = 30;

% Control Hessian



[xtraj, utraj, K, jhist] = iLQRsatellite(x0, xg, utraj0, Qw, R, Qwf, Qqf, .01, 1e-3);






